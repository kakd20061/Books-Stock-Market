@using Books_Stock_Market.Models.ViewModels
@model AdminManageViewModel

@{
    ViewData["Title"] = "Admin Manage Page";
    Layout = "~/Views/Shared/_AdministrationLayout.cshtml";
}

<div class="container" style="margin-top:8em;">
    <div class="form-background p-5">
        <h1 class="text-center mb-5 section-title position-relative">Add Admin Permissions</h1>
        <form asp-action="AddAdminGrands" class="text-lg-center mb-5">
          <div class="mb-3">
            <label for="UserMail" class="form-label">User Mail</label><br/>
            <span asp-validation-for="formData.Email" class="text-danger"></span>
            <input asp-for="formData.Email" type="text" class="form-control" id="UserMail">
          </div>

          <center><button type="submit" class="btn btn-success w-75">Add</button></center>
        </form>
        <h1 class="text-center mb-5 section-title position-relative">Admin list</h1>
        <ul class="list-group">
            @foreach(var item in Model.Administration)
            {
                <li class="list-group-item">
                    @item.Email 
                    @if(item.Email != "gizard.biznes123@vp.pl")
                    {
                        <a class="btn btn-danger float-end" asp-action="RemoveAdminGrands" asp-route-id="@item.Id"><i class="fa-solid fa-trash fa-lg"></i></a>
                    }
                    else
                    {
                        <p class="float-end">Main Admin</p>
                    }

                </li>
            }
        </ul>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial1" />
}